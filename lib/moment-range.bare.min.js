var DateRange,INTERVALS;INTERVALS={year:!0,month:!0,week:!0,day:!0,hour:!0,minute:!0,second:!0},DateRange=function(){function a(a,b){this.start=moment(a),this.end=moment(b)}return a.prototype.contains=function(b){return b instanceof a?this.start<=b.start&&this.end>=b.end:this.start<=b&&b<=this.end},a.prototype._by_string=function(a,b){var c,d;for(c=moment(this.start),d=[];this.contains(c);)b.call(this,c.clone()),d.push(c.add(1,a));return d},a.prototype._by_range=function(a,b){var c,d,e,f;if(d=Math.floor(this/a),1/0===d)return this;for(f=[],c=e=0;d>=0?d>=e:e>=d;c=d>=0?++e:--e)f.push(b.call(this,moment(this.start.valueOf()+a.valueOf()*c)));return f},a.prototype.overlaps=function(a){return null!==this.intersect(a)},a.prototype.intersect=function(b){var c,d,e,f,g,h,i,j;return this.start<=(d=b.start)&&d<(c=this.end)&&c<b.end?new a(b.start,this.end):b.start<(f=this.start)&&f<(e=b.end)&&e<=this.end?new a(this.start,b.end):b.start<(h=this.start)&&h<(g=this.end)&&g<b.end?this:this.start<=(j=b.start)&&j<(i=b.end)&&i<=this.end?b:null},a.prototype.subtract=function(b){var c,d,e,f,g,h,i,j;return null===this.intersect(b)?[this]:b.start<=(d=this.start)&&d<(c=this.end)&&c<=b.end?[]:b.start<=(f=this.start)&&f<(e=b.end)&&e<this.end?[new a(b.end,this.end)]:this.start<(h=b.start)&&h<(g=this.end)&&g<=b.end?[new a(this.start,b.start)]:this.start<(j=b.start)&&j<(i=b.end)&&i<this.end?[new a(this.start,b.start),new a(b.end,this.end)]:void 0},a.prototype.by=function(a,b){return"string"==typeof a?this._by_string(a,b):this._by_range(a,b),this},a.prototype.valueOf=function(){return this.end-this.start},a.prototype.toDate=function(){return[this.start.toDate(),this.end.toDate()]},a.prototype.isSame=function(a){return this.start.isSame(a.start)&&this.end.isSame(a.end)},a.prototype.diff=function(a){return null==a&&(a=void 0),this.end.diff(this.start,a)},a}(),moment.fn.range=function(a,b){return a in INTERVALS?new DateRange(moment(this).startOf(a),moment(this).endOf(a)):new DateRange(a,b)},moment.range=function(a,b){return new DateRange(a,b)},moment.fn.within=function(a){return a.contains(this._d)};