!function(a,b){"function"==typeof define&&define.amd?define(["moment"],function(c){return a.DateRange=b(c)}):"object"==typeof exports?module.exports=b(require("moment")):a.DateRange=b(a.moment)}(this,function(a){function b(b,c){var d,e=b,f=c;1!==arguments.length&&void 0!==c||("object"==typeof b&&2===b.length?(e=b[0],f=b[1]):"string"==typeof b&&(d=b.split("/"),e=d[0],f=d[1])),this.start=a(null===e?g:e),this.end=a(null===f?h:f)}function c(b,c,d){for(var e=a(this.start);this.contains(e,d);)c.call(this,e.clone()),e.add(1,b)}function d(b,c,d){var e=this/b,f=Math.floor(e);if(f!==1/0){f===e&&d&&f--;for(var g=0;g<=f;g++)c.call(this,a(this.start.valueOf()+b.valueOf()*g))}}var e={year:!0,month:!0,week:!0,day:!0,hour:!0,minute:!0,second:!0},f={DR:"1{LL} — 2{LL}",DRT:"1{LLL} — 2{LLL}",DRY:"1{MMMM D} — 2{MMMM D, YYYY}",DRYT:"1{MMMM D LT} — 2{MMMM D LT, YYYY}",DRM:"1{MMMM D} ‒ 2{D, YYYY}",DRMT:"1{MMMM D LT} — 2{MMMM D LT, YYYY}",DRD:"1{MMMM D, YYYY}",DRDT:"1{MMMM D, YYYY} 1{LT} ‒ 2{LT}",DRS:"[From] LL",DRST:"[From] LLL",DRE:"[To] LL",DRET:"[To] LLL"},g=-864e13,h=864e13;return b.prototype.constructor=b,b.prototype.clone=function(){return a().range(this.start,this.end)},b.prototype.contains=function(a,c){var d=this.start,e=this.end;return a instanceof b?d<=a.start&&(e>a.end||e.isSame(a.end)&&!c):d<=a&&(e>a||e.isSame(a)&&!c)},b.prototype.overlaps=function(a){return null!==this.intersect(a)},b.prototype.intersect=function(a){var c=this.start,d=this.end;return c<=a.start&&a.start<d&&d<a.end?new b(a.start,d):a.start<c&&c<a.end&&a.end<=d?new b(c,a.end):a.start<c&&c<=d&&d<a.end?this:c<=a.start&&a.start<=a.end&&a.end<=d?a:null},b.prototype.add=function(c){return this.overlaps(c)?new b(a.min(this.start,c.start),a.max(this.end,c.end)):null},b.prototype.subtract=function(a){var c=this.start,d=this.end;return null===this.intersect(a)?[this]:a.start<=c&&c<d&&d<=a.end?[]:a.start<=c&&c<a.end&&a.end<d?[new b(a.end,d)]:c<a.start&&a.start<d&&d<=a.end?[new b(c,a.start)]:c<a.start&&a.start<a.end&&a.end<d?[new b(c,a.start),new b(a.end,d)]:c<a.start&&a.start<d&&a.end<d?[new b(c,a.start),new b(a.start,d)]:void 0},b.prototype.toArray=function(a,b){var c=[];return this.by(a,function(a){c.push(a)},b),c},b.prototype.by=function(a,b,e){return"string"==typeof a?c.call(this,a,b,e):d.call(this,a,b,e),this},b.prototype.format=function(b){"string"==typeof b?b={format:b}:"undefined"==typeof b&&(b={});var c=Object.assign({collapse:"date",showTime:!0,openRange:!0},b),d=this.start,e=this.end,i=c.openRange&&!d.isSame(g),j=c.openRange&&!e.isSame(h),k=d.year()==e.year(),l=k&&d.month()==e.month(),m=l&&d.date()==e.date();if(!c.format){var n="DR";if(i&&!j)n+="S";else if(!i&&j)n+="E";else switch(c.collapse){case"date":if(m){n+="D";break}case"month":if(l){n+="M";break}case"year":if(k){n+="Y";break}}c.showTime&&(n+="T");var o=a.localeData()._dateRangeFormat;c.format=o&&o.hasOwnProperty(n)?o[n]:f[n]}c.format=c.format.replace(/\[.*?\]|1\{(.+?)\}/g,function(a,b){return b?"[[]"+b+"[]]":a}).replace(/\[.*?\]|2\{(.+?)\}/g,function(a,b){return b?"["+b+"]":a});var p="";return i&&(p=d.format(p||c.format)),j&&(p=e.format(p||c.format)),p},b.prototype.toString=function(){return this.start.format()+"/"+this.end.format()},b.prototype.valueOf=function(){return this.end-this.start},b.prototype.center=function(){var b=this.start+this.diff()/2;return a(b)},b.prototype.toDate=function(){return[this.start.toDate(),this.end.toDate()]},b.prototype.isSame=function(a){return this.start.isSame(a.start)&&this.end.isSame(a.end)},b.prototype.diff=function(a){return this.end.diff(this.start,a)},a.range=function(c,d){return c in e?new b(a(this).startOf(c),a(this).endOf(c)):new b(c,d)},a.range.constructor=b,a.fn.range=a.range,a.fn.within=function(a){return a.contains(this._d)},b});